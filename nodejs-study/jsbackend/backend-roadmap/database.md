데이터베이스는 검색과 축적이 쉽도록 정리된 데이터의 모음입니다. 대부분의 서버 애플리케이션은 클라이언트에서 받은 데이터를 어딘가에 저장합니다. 그것이 메모리일 수도 있고, 텍스트 파일일 수도 있고, 엑셀일 수도 있고, 특정 프로토콜을 통해 생성한 바이너리 파일일 수도 있습니다. 검색을 지원하고, 입력한 데이터 수정 및 삭제도 가능해야 하며, 수많은 읽기와 수정 삭제 요청이 동시다발로 이루어지는 상황을 생각해봅시다. 단순한 텍스트 파일로 그 모든 요구사항을 충족시키기는 어려울 겁니다.

일반적으로 현업에서 “데이터베이스”라고 말하면 데이터베이스 소프트웨어를 의미합니다. 따라서 이 책에서 부르는 데이터베이스 역시 데이터베이스 소프트웨어를 의미합니다. 데이터베이스는 데이터 저장 시 수많은 문제가 생길 수 있는 상황에서도 데이터를 가능한 한 안전하게 보관, 검색, 수정, 삭제가 가능하도록 하는 고마운 소프트웨어입니다. 

RDB 
데이터베이스는 여러 가지로 구분할 수 있는데, RDB와 RDB가 아닌 것으로(NoSQL) 보통 구분합니다. RDB는 Relational Database의 약자로 관계형 데이터베이스라는 뜻입니다. RDB가 아닌 데이터베이스를 NoSQL 또는 NewSQL로 구분합니다. 관계형 데이터베이스는 데이터를 행row과 열column로 이루어진 테이블로 관리하며, 기본 키Primary key를 사용해 각 행을 식별합니다. 또한 각 테이블 간에 관계를 지을 수 있습니다. RDB에서 가장 유명한 데이터베이스들은 오라클, 마이에스큐엘MySQL, SQL Server, 포스트그레스큐엘이 있습니다. 

NoSQL
NoSQL의 뜻이 SQL을 안 쓴다는 의미로 사용되기도 합니다만, 최근에는 Not Only SQL의 의미로 많이 사용합니다. 애플리케이션을 작성할 때 RDB와 NoSQL의 장단점을 살려서 사용하면 좋기 때문에 Not Only SQL이라는 의견에 저도 조금 더 찬성합니다.

RDB는 데이터 저장, 질의, 수정, 삭제가 용이하지만 반면에 성능을 올리는 게 쉽지 않습니다. 데이터베이스의 성능을 높이려면 머신의 성능을 좋게 하는 스케일 업 또는 머신을 여러 대로 분리하는 스케일아웃이 필요합니다. 스케일 업은 장비를 좋게 하면 되지만, 스케일아웃은 데이터베이스가 여러 대가 되면서 분산되므로 이때 트랜잭션을 사용하면 성능이 떨어지게 됩니다. 또한 기본적으로는 스케일아웃을 지원하지 않습니다. RDB의 이러한 문제들을 해결하기 위해 (통칭) NoSQL가 등장했습니다. 

MongoDB
도큐먼트 스토어로는 몽고디비가 유명합니다. 피파 온라인에서 데이터베이스로 채택했고 라인에서도 많이 사용합니다. 데이터로 JSON과 매우 비슷하게 생긴 BSON이라는 문서 모델을 저장합니다. JSONJavaScript Object Notation은 데이터 저장 및 전송 시 사용하는 경량의 데이터 표현 형식입니다. 자바스크립트의 객체의 형식을 기반으로 만들어져 있습니다. 
RDB에서는 테이블 개념인 컬렉션이라는 개념이 있으며, 검색 시 인덱스를 사용하거나, ACID 트랜잭션을 지원하는 등 RDB에서만 사용했던 기능을 많이 가져오려고 시도합니다.


redis
레디스는 키밸류기반의 NoSQL데이터베이스입니다. 분산캐시로 보통 사용합니다만, 키를 기반으로 데이터를 잘 관리할 수 있도록 해주기에 데이터베이스의 범주에 넣어도 된다고 생각합니다. 리스트, 셋, 해쉬등 다양한 데이터 타입을 지원하고 있고 빠른 성능을 내주기 때문에 많은 회사에서 거의 기본으로 사용하고 있습니다. 


DB지식들
ORM
ORM은 object relation mapping의 약자입니다. 클래스 오브젝트와 테이블의 관계를 매핑하는 프로그램을 지칭합니다. 테이블의 관계를 클래스로 가져오도록 도와주는 프로그램을 말하며, 클래스의 메서드를 실행시에 쿼리 생성 및 실행을 도와줍니다. ORM을 사용하면 쿼리 작성 없이 디비조작이 가능하며 직관적으로 데이터를 관리할 수 있습니다. 반면 통계를 내주는 쿼리같은 너무 복잡한 쿼리는 ORM이 아닌 raw쿼리를 사용하는게 더 좋은 경우가 많습니다. 

ACID 
ACID는 각각 원자성, 일관성, 격리성, 내구성을 의미합니다. . 원자성은 트랜젝션을 구성하는 명령이 하나의 묶음으로 처리되어서 모두 성공하거나  모두 실패하는 것을 보장하는 기법입니다. 일관성은 트랜잭션에서 실행된 변경 사항이 데이터베이스의 무결성 조건을 만족하는 겁니다. 격리성은 두 개의 트랜잭션이 서로에게 영향을 미칠 수 없다는 것을 의미합니다. 내구성은 트랜잭션이 성공적으로 끝나면 그 결과가 데이터베이스에 계속 유지된다는 것을 말합니다. ACID는 데이터베이스에서 데이터의 일관성을 유지하도록 해줍니다. 또한 문제가 생긴 때에는 이전의 상태로 되돌릴 수 있게 해줍니다. 

트랜젝션
데이터베이스의 상태를 변화시키기 해서 수행하는 작업의 단위를 뜻합니다. 방금 ACID를 배웠는데요. ACID는 트랜젝션의 특징입니다. 트랜젝션을 사용하여 동시 다발적으로 발생하는 데이터 변경 요청중에도 디비 데이터가 안전하게 변경될 수 있도록 합니다. 

N+1 문제
N + 1 문제는 ORM 사용시 자주 발생하는 문제입니다. 클래스의 모델에 다른 클래스와 관계를 설정 하고 해당 해당 클래스를 조회시 데이터 갯수만큼 추가적인 쿼리가 발생하는 문제를 뜻합니다. join으로 한번에 가져올 수 있는 쿼리인데, N + 1번 실행하여 불필요하게 많은 쿼리가 발생하는 것을 의미합니다. 